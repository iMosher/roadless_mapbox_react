html, body, #root { height: 100%; }
body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }

.map-root { position: relative; height: 100%; }
#map { position: absolute; inset: 0; }

.note {
  position: absolute; z-index: 2; top: 12px; left: 12px;
  background: rgba(255,255,255,.95); border-radius: 8px; padding: 10px 12px;
  font-size: 13px; box-shadow: 0 2px 10px rgba(0,0,0,.12);
  max-width: 520px; max-height: 60%; overflow: auto; white-space: pre-wrap;
}

.survey-btn {
  background:#ef4444; color:#fff; text-decoration:none; border:none; cursor:pointer;
  font:600 14px system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  padding:10px 14px; border-radius:8px; box-shadow:0 2px 10px rgba(0,0,0,.15);
  display:block; margin-top:8px; text-align:center;
}
.survey-btn:hover { opacity:.92; }

.legend-card {
  background: rgba(255,255,255,.95);
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  padding: 10px 12px;
  font: 12px/1.35 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  box-shadow: 0 2px 10px rgba(0,0,0,.12);
  min-width: 180px;
}
.legend-title { font-weight: 700; margin-bottom: 6px; }
.legend-item { display: flex; align-items: center; gap: 8px; margin: 6px 0; }
.legend-swatch { width: 32px; height: 16px; display: inline-block; }